using UnityEngine;

namespace Arctic.Exploits
{
    public static class Fly
    {
        private static VRC.Player LocalPlayer;
        private static Transform CameraTransform;
        public static float FlySpeed = 1f;
        public static bool flytoggle = false;




        public static void fly()
        {
            if (!flytoggle) return;

            if (LocalPlayer == null || CameraTransform == null)
            {
                LocalPlayer = VRC.Player.prop_Player_0;
                CameraTransform = Camera.main.transform;
            }

            float flyspeed = Input.GetKey(KeyCode.LeftShift) ? Time.deltaTime * (settings.nconfig.flyspeed * 50) : Time.deltaTime * (settings.nconfig.flyspeed * 25);

            VRCPlayer.field_Internal_Static_VRCPlayer_0.GetComponent<CharacterController>().enabled = true;
            if (Input.GetAxis("Vertical") != 0f) LocalPlayer.transform.position += CameraTransform.forward * 2f * Time.deltaTime * Input.GetAxis("Vertical");
            if (Input.GetAxis("Horizontal") != 0f) LocalPlayer.transform.position += CameraTransform.right * 2f * Time.deltaTime * Input.GetAxis("Horizontal");
            if (Input.GetKey(KeyCode.E)) LocalPlayer.transform.position += CameraTransform.up * 2f * Time.deltaTime;
            if (Input.GetKey(KeyCode.Q)) LocalPlayer.transform.position += CameraTransform.up * -FlySpeed * 2f * Time.deltaTime;
            if (Input.GetKey(KeyCode.A)) LocalPlayer.transform.position += CameraTransform.right * -FlySpeed * 2f * Time.deltaTime;
            if (Input.GetKey(KeyCode.D)) LocalPlayer.transform.position += CameraTransform.right * 2f * Time.deltaTime;
        }
    }
}

